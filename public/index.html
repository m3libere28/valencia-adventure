<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medaglia-Asprilla Family: Valencia Adventure</title>
    
    <!-- Core Dependencies -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
    
    <!-- App Scripts -->
    <script src="./js/schools.js" defer></script>
    <script src="./js/budget.js" defer></script>
    <script src="./js/journal.js" defer></script>
    <script src="./js/apartments.js" defer></script>
    <script src="./js/housing.js" defer></script>
    <script src="./js/currency.js" defer></script>
    <script src="./js/clothing.js" defer></script>
    
    <!-- Auth0 SDK -->
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/weather.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Poppins', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float-slow': 'float 8s ease-in-out infinite',
                        'float-medium': 'float 6s ease-in-out infinite',
                        'float-fast': 'float 4s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0) scale(1)' },
                            '50%': { transform: 'translateY(-20px) scale(1.05)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        .hero {
            background: url('./images/valencia-hero.jpg');
            background-size: cover;
            background-position: center;
            min-height: calc(100vh - 64px);
        }
        
        .countdown-box {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }
        
        .countdown-box:hover {
            transform: translateY(-5px);
        }

        .nav-link {
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            width: 0;
            height: 2px;
            background-color: #2563eb;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1);
        }

        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }
        
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        .parallax {
            transition: transform 0.3s cubic-bezier(0.2, 0, 0.2, 1);
        }

        .timeline-item {
            opacity: 0;
            transform: translateX(-100px);
            transition: all 0.6s ease;
        }

        .timeline-item.active {
            opacity: 1;
            transform: translateX(0);
        }

        .weather-card {
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }

        .weather-card:hover {
            transform: rotateY(180deg);
        }

        .weather-card-front,
        .weather-card-back {
            backface-visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .weather-card-back {
            transform: rotateY(180deg);
        }

        .budget-progress {
            position: relative;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }

        .budget-progress-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: #3b82f6;
            transition: width 1s ease;
        }

        .todo-item {
            transition: all 0.3s ease;
        }

        .todo-item.completed {
            opacity: 0.6;
            text-decoration: line-through;
        }

        .todo-item:hover {
            transform: translateX(10px);
        }

        @keyframes cardFlip {
            from { transform: perspective(1000px) rotateY(0deg); }
            to { transform: perspective(1000px) rotateY(360deg); }
        }

        .flip-card {
            animation: cardFlip 0.6s ease-out;
        }
        
        .timeline-container {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            overflow: hidden;
        }

        .timeline-container::after {
            content: '';
            position: absolute;
            width: 6px;
            background: linear-gradient(to bottom, #60A5FA, #2563EB);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
            border-radius: 999px;
            z-index: 1;
            box-shadow: 0 0 10px rgba(37, 99, 235, 0.2);
        }

        .timeline-item {
            padding: 20px 40px;
            position: relative;
            width: 50%;
            opacity: 0;
            margin-bottom: 40px;
        }

        .timeline-item:nth-child(odd) {
            left: 0;
            padding-right: 60px;
        }

        .timeline-item:nth-child(even) {
            left: 50%;
            padding-left: 60px;
        }

        .timeline-content {
            position: relative;
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            z-index: 2;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        .timeline-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            background: linear-gradient(45deg, #60A5FA, #2563EB);
            border: 4px solid white;
            top: 20px;
            border-radius: 50%;
            z-index: 3;
            box-shadow: 0 0 10px rgba(37, 99, 235, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .timeline-item:hover::before {
            transform: scale(1.2);
            box-shadow: 0 0 15px rgba(37, 99, 235, 0.4);
        }

        .timeline-item:nth-child(odd)::before {
            right: -15px;
        }

        .timeline-item:nth-child(even)::before {
            left: -15px;
        }

        .task {
            cursor: pointer;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .task:hover {
            background-color: #f3f4f6;
            transform: translateX(5px);
        }

        .task .checkbox {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .task.completed .checkbox {
            background-color: #2563EB;
            border-color: #2563EB;
            transform: scale(1.1);
        }

        .task.completed {
            color: #6B7280;
            text-decoration: line-through;
            text-decoration-color: #2563EB;
        }

        .task.completed .checkbox i {
            color: white;
        }

        .phase-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 4px 8px;
            border-radius: 999px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .current-phase {
            background-color: #DBEAFE;
            color: #1E40AF;
        }

        .completed-phase {
            background-color: #DCFCE7;
            color: #166534;
        }

        .upcoming-phase {
            background-color: #FEF3C7;
            color: #92400E;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        @keyframes wave {
            0% { transform: translateX(0) translateZ(0) scaleY(1); }
            50% { transform: translateX(-25%) translateZ(0) scaleY(0.55); }
            100% { transform: translateX(-50%) translateZ(0) scaleY(1); }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        .loader-wave {
            animation: wave 3s linear infinite;
        }
        .loader-float {
            animation: float 3s ease-in-out infinite;
        }
        .loader-pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        /* Geometric Background Pattern */
        .geometric-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.15;
            background: 
                linear-gradient(45deg, #FF9F1C 25%, transparent 25%) -50px 0,
                linear-gradient(-45deg, #FF9F1C 25%, transparent 25%) -50px 0,
                linear-gradient(45deg, transparent 75%, #FF9F1C 75%) -50px 0,
                linear-gradient(-45deg, transparent 75%, #FF9F1C 75%) -50px 0;
            background-size: 100px 100px;
            animation: slide 60s linear infinite;
        }

        @keyframes slide {
            0% {
                background-position: -50px 0, -50px 0, -50px 0, -50px 0;
            }
            100% {
                background-position: 50px 100px, 50px 100px, 50px 100px, 50px 100px;
            }
        }

        /* Make content sections more translucent to show pattern */
        .content-section {
            background-color: rgba(255, 255, 255, 0.75) !important;
            backdrop-filter: blur(5px);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        }

        .content-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            background-color: rgba(255, 255, 255, 0.85) !important;
        }

        /* Gradient overlays for sections */
        .section-gradient {
            background: linear-gradient(135deg, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.7) 100%);
        }
    </style>
</head>
<body class="font-sans bg-white">
    <!-- Add geometric background -->
    <div class="geometric-background"></div>
    <!-- Loader -->
    <div id="loader" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 transition-opacity duration-500">
        <div class="relative w-64 h-64">
            <!-- Central content -->
            <div class="absolute inset-0 flex flex-col items-center justify-center text-white">
                <!-- Animated beach icon -->
                <div class="loader-float mb-4">
                    <i class="fas fa-umbrella-beach text-5xl"></i>
                </div>
                
                <!-- Family silhouette -->
                <div class="loader-pulse mb-6">
                    <div class="flex items-end space-x-2">
                        <div class="w-6 h-16 bg-white rounded-t-full"></div>
                        <div class="w-6 h-16 bg-white rounded-t-full"></div>
                        <div class="w-6 h-12 bg-white rounded-t-full"></div>
                    </div>
                </div>
                
                <!-- Loading text -->
                <h2 class="text-2xl font-bold mb-2">Medaglia-Asprilla Family</h2>
                <p class="text-sm opacity-75">Loading your Valencia adventure...</p>
                
                <!-- Loading progress -->
                <div class="w-32 h-1 bg-white/20 rounded-full mt-4 overflow-hidden">
                    <div id="loader-progress" class="h-full bg-white rounded-full w-0 transition-all duration-300"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main content -->
    <div id="main-content" class="opacity-0 transition-opacity duration-500">
    <!-- Navigation -->
    <nav class="bg-white shadow-md fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center">
                    <a href="#" class="flex items-center space-x-2">
                        <i class="fas fa-plane-departure text-blue-600 text-2xl"></i>
                        <span class="text-xl font-bold">Valencia<span class="text-orange-500">Bound</span></span>
                    </a>
                </div>
                <div class="hidden md:flex space-x-6">
                    <a href="#introduction" class="nav-link text-gray-600 hover:text-blue-600">Introduction</a>
                    <a href="#housing" class="nav-link text-gray-600 hover:text-blue-600">Housing</a>
                    <a href="#timeline" class="nav-link text-gray-600 hover:text-blue-600">Timeline</a>
                    <a href="#schools" class="nav-link text-gray-600 hover:text-blue-600">Schools</a>
                    <a href="#weather" class="nav-link text-gray-600 hover:text-blue-600">Weather</a>
                    <a href="#budget" class="nav-link text-gray-600 hover:text-blue-600">Budget</a>
                    <a href="#currency" class="nav-link text-gray-600 hover:text-blue-600">Currency</a>
                    <a href="#journal" class="nav-link text-gray-600 hover:text-blue-600">Journal</a>
                    <a href="#about" class="nav-link text-gray-600 hover:text-blue-600">About</a>
                </div>
                <div class="md:hidden">
                    <button id="menu-toggle" class="text-gray-600 hover:text-blue-600">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                </div>
                <div class="flex items-center">
                    <button id="login-button" class="text-blue-600 hover:text-blue-800">Login</button>
                    <div id="userInfo" class="hidden"></div>
                    <button id="logout-button" class="hidden bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-4">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden">
        <div class="fixed right-0 top-0 bottom-0 w-64 bg-white p-6">
            <div class="flex justify-between items-center mb-8">
                <h3 class="text-lg font-semibold">Menu</h3>
                <button id="close-menu" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="flex flex-col space-y-4">
                <a href="#introduction" class="text-gray-600 hover:text-blue-600">Introduction</a>
                <a href="#housing" class="text-gray-600 hover:text-blue-600">Housing</a>
                <a href="#timeline" class="text-gray-600 hover:text-blue-600">Timeline</a>
                <a href="#schools" class="text-gray-600 hover:text-blue-600">Schools</a>
                <a href="#weather" class="text-gray-600 hover:text-blue-600">Weather</a>
                <a href="#budget" class="text-gray-600 hover:text-blue-600">Budget</a>
                <a href="#currency" class="text-gray-600 hover:text-blue-600">Currency</a>
                <a href="#journal" class="text-gray-600 hover:text-blue-600">Journal</a>
                <a href="#about" class="text-gray-600 hover:text-blue-600">About</a>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="relative h-screen overflow-hidden">
        <!-- Geometric Background -->
        <div class="absolute inset-0 geometric-hero">
            <!-- Animated shapes -->
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
            <div class="shape shape-4"></div>
            <div class="shape shape-5"></div>
            <!-- Gradient overlay -->
            <div class="absolute inset-0 bg-gradient-to-b from-black/30 via-black/20 to-transparent"></div>
        </div>
        
        <!-- Hero Content -->
        <div class="relative h-full flex flex-col justify-center items-center text-center text-white px-4">
            <h1 class="text-5xl md:text-7xl font-bold mb-4 tracking-wider text-shadow-lg animate-fade-in">
                Valencia Adventure
            </h1>
            <p class="text-xl md:text-2xl mb-8 max-w-2xl text-shadow-md animate-fade-in-delay">
                Join the Medaglia-Asprilla family on our journey to a new life in beautiful Valencia, Spain
            </p>
            <a href="#about" class="bg-white/20 backdrop-blur-sm text-white px-8 py-3 rounded-full 
                                  hover:bg-white/30 transition-all duration-300 animate-fade-in-delay-2">
                Discover Our Story
            </a>
        </div>

        <style>
            .geometric-hero {
                background: #FF4E50;  /* Vibrant Spanish red */
                overflow: hidden;
            }

            .shape {
                position: absolute;
                opacity: 0.9;
                animation: float 20s infinite;
            }

            .shape-1 {
                width: 400px;
                height: 400px;
                background: #FC913A;  /* Warm Spanish orange */
                clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
                top: -100px;
                left: -100px;
                animation-delay: -5s;
            }

            .shape-2 {
                width: 300px;
                height: 300px;
                background: #F9D423;  /* Spanish sun yellow */
                clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
                top: 50%;
                right: -50px;
                animation-delay: -2s;
            }

            .shape-3 {
                width: 250px;
                height: 250px;
                background: #4B7BE5;  /* Mediterranean blue */
                clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
                bottom: -50px;
                left: 25%;
                animation-delay: -8s;
            }

            .shape-4 {
                width: 350px;
                height: 350px;
                background: #6DD5FA;  /* Valencia sky blue */
                clip-path: polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%);
                top: 20%;
                left: 60%;
                animation-delay: -4s;
            }

            .shape-5 {
                width: 200px;
                height: 200px;
                background: #FF9966;  /* Terracotta */
                clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
                top: 40%;
                left: 20%;
                animation-delay: -6s;
            }

            @keyframes float {
                0%, 100% {
                    transform: translateY(0) rotate(0deg) scale(1);
                }
                25% {
                    transform: translateY(-20px) rotate(5deg) scale(1.05);
                }
                50% {
                    transform: translateY(10px) rotate(-3deg) scale(0.95);
                }
                75% {
                    transform: translateY(-15px) rotate(2deg) scale(1.02);
                }
            }

            .text-shadow-lg {
                text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            }
            
            .text-shadow-md {
                text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            }
            
            .animate-fade-in {
                opacity: 0;
                animation: fade-in 1s forwards;
            }
            
            .animate-fade-in-delay {
                opacity: 0;
                animation: fade-in 1s forwards 0.3s;
            }
            
            .animate-fade-in-delay-2 {
                opacity: 0;
                animation: fade-in 1s forwards 0.6s;
            }
            
            @keyframes fade-in {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
        </style>
    </section>

    <!-- Introduction Section -->
    <section id="introduction" class="relative py-24 bg-gradient-to-br from-blue-50 to-purple-50 overflow-hidden">
        <!-- Animated background elements -->
        <div class="absolute inset-0 opacity-20">
            <div class="animate-float-slow absolute top-10 left-10 w-64 h-64 bg-blue-400 rounded-full mix-blend-multiply filter blur-xl"></div>
            <div class="animate-float-medium absolute top-40 right-20 w-72 h-72 bg-purple-400 rounded-full mix-blend-multiply filter blur-xl"></div>
            <div class="animate-float-fast absolute bottom-10 left-1/3 w-56 h-56 bg-pink-400 rounded-full mix-blend-multiply filter blur-xl"></div>
        </div>

        <div class="max-w-7xl mx-auto px-4 relative">
            <!-- Grid layout for content -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
                <!-- Left column: Text content -->
                <div class="space-y-8 opacity-0" id="intro-text">
                    <h2 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
                        Welcome to Our Journey
                    </h2>
                    <p class="text-xl text-gray-700 leading-relaxed">
                        We're the Medaglia-Asprilla family - Emily, Helbert, and little Michelangelo - embarking on an exciting adventure to Valencia, Spain. This website is our digital home where we'll document our experiences, plan our move, and share our story with family and friends.
                    </p>
                    <div class="flex flex-wrap gap-6">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center">
                                <i class="fas fa-calendar-alt text-2xl text-blue-600"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Duration</h3>
                                <p class="text-gray-600">16 months</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center">
                                <i class="fas fa-map-marker-alt text-2xl text-purple-600"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Location</h3>
                                <p class="text-gray-600">Valencia, Spain</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-full bg-pink-100 flex items-center justify-center">
                                <i class="fas fa-users text-2xl text-pink-600"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Family</h3>
                                <p class="text-gray-600">Adventure of 3</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right column: Interactive elements -->
                <div class="relative opacity-0" id="intro-visual">
                    <!-- Spain map outline SVG -->
                    <div class="w-full aspect-square relative">
                        <svg viewBox="0 0 200 200" class="w-full h-full transform rotate-12">
                            <path d="M40,100 Q60,60 100,40 Q140,60 160,100 Q140,140 100,160 Q60,140 40,100 Z" 
                                  class="fill-none stroke-blue-600 stroke-2"
                                  id="spain-path" />
                            <!-- Animated dot -->
                            <circle r="4" fill="#EC4899" id="moving-dot">
                                <animateMotion dur="8s" repeatCount="indefinite">
                                    <mpath href="#spain-path" />
                                </animateMotion>
                            </circle>
                        </svg>
                        <!-- Valencia marker -->
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                            <div class="relative">
                                <div class="w-4 h-4 bg-red-500 rounded-full"></div>
                                <div class="absolute top-0 left-0 w-4 h-4 bg-red-500 rounded-full animate-ping"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bottom stats -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mt-16 opacity-0" id="intro-stats">
                <div class="text-center">
                    <div class="text-3xl font-bold text-blue-600" id="days-counter">0</div>
                    <p class="text-gray-600">Days Until Move</p>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-purple-600" id="tasks-counter">0</div>
                    <p class="text-gray-600">Tasks Completed</p>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-pink-600" id="places-counter">0</div>
                    <p class="text-gray-600">Places to Visit</p>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-indigo-600" id="memories-counter">0</div>
                    <p class="text-gray-600">Memories Made</p>
                </div>
            </div>
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Animate introduction elements when they come into view
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (entry.target.id === 'intro-text') {
                            gsap.fromTo(entry.target, 
                                { opacity: 0, x: -50 },
                                { opacity: 1, x: 0, duration: 1, ease: 'power2.out' }
                            );
                        } else if (entry.target.id === 'intro-visual') {
                            gsap.fromTo(entry.target,
                                { opacity: 0, x: 50 },
                                { opacity: 1, x: 0, duration: 1, ease: 'power2.out' }
                            );
                        } else if (entry.target.id === 'intro-stats') {
                            gsap.fromTo(entry.target,
                                { opacity: 0, y: 30 },
                                { opacity: 1, y: 0, duration: 1, ease: 'power2.out' }
                            );
                            // Animate counters
                            animateCounter('days-counter', 459);
                            animateCounter('tasks-counter', 24);
                            animateCounter('places-counter', 15);
                            animateCounter('memories-counter', 0);
                        }
                    }
                });
            }, { threshold: 0.2 });

            // Observe elements
            ['intro-text', 'intro-visual', 'intro-stats'].forEach(id => {
                const element = document.getElementById(id);
                if (element) observer.observe(element);
            });

            // Counter animation function
            function animateCounter(id, target) {
                const element = document.getElementById(id);
                let current = 0;
                const increment = target / 50;
                const interval = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        current = target;
                        clearInterval(interval);
                    }
                    element.textContent = Math.round(current);
                }, 30);
            }
        });
    </script>

    <!-- Housing Resources Section -->
    <section id="housing" class="py-20 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">Housing Resources</h2>
            
            <!-- Popular Spanish Real Estate Websites -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
                <a href="https://www.idealista.com" target="_blank" rel="noopener"
                   class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow content-section">
                    <h3 class="text-xl font-semibold mb-3 text-blue-600">Idealista</h3>
                    <p class="text-gray-600 mb-4">Spain's largest property portal with extensive listings in Valencia</p>
                    <div class="flex items-center text-sm text-gray-500">
                        <i class="fas fa-check-circle mr-2 text-green-500"></i>
                        Available in English
                    </div>
                </a>

                <a href="https://www.fotocasa.es" target="_blank" rel="noopener"
                   class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow content-section">
                    <h3 class="text-xl font-semibold mb-3 text-blue-600">Fotocasa</h3>
                    <p class="text-gray-600 mb-4">Popular Spanish real estate site with detailed property photos</p>
                    <div class="flex items-center text-sm text-gray-500">
                        <i class="fas fa-globe mr-2"></i>
                        Spanish interface
                    </div>
                </a>

                <a href="https://www.pisos.com" target="_blank" rel="noopener"
                   class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow content-section">
                    <h3 class="text-xl font-semibold mb-3 text-blue-600">Pisos.com</h3>
                    <p class="text-gray-600 mb-4">Comprehensive property search with virtual tours</p>
                    <div class="flex items-center text-sm text-gray-500">
                        <i class="fas fa-globe mr-2"></i>
                        Spanish interface
                    </div>
                </a>
            </div>

            <!-- Rental Process Guide -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-16 content-section">
                <h3 class="text-2xl font-bold mb-6">Rental Process in Spain</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="space-y-3">
                        <div class="text-3xl text-blue-600 mb-2">
                            <i class="fas fa-file-contract"></i>
                        </div>
                        <h4 class="font-semibold">Required Documents</h4>
                        <ul class="text-gray-600 space-y-2">
                            <li>â€¢ NIE (Foreigner ID)</li>
                            <li>â€¢ Proof of income</li>
                            <li>â€¢ Bank statements</li>
                            <li>â€¢ Employment contract</li>
                        </ul>
                    </div>

                    <div class="space-y-3">
                        <div class="text-3xl text-blue-600 mb-2">
                            <i class="fas fa-euro-sign"></i>
                        </div>
                        <h4 class="font-semibold">Typical Costs</h4>
                        <ul class="text-gray-600 space-y-2">
                            <li>â€¢ 1-2 months deposit</li>
                            <li>â€¢ First month's rent</li>
                            <li>â€¢ Agency fee (optional)</li>
                            <li>â€¢ Utility setup fees</li>
                        </ul>
                    </div>

                    <div class="space-y-3">
                        <div class="text-3xl text-blue-600 mb-2">
                            <i class="fas fa-clipboard-check"></i>
                        </div>
                        <h4 class="font-semibold">Contract Terms</h4>
                        <ul class="text-gray-600 space-y-2">
                            <li>â€¢ Minimum 12 months</li>
                            <li>â€¢ 3-year tenant rights</li>
                            <li>â€¢ Notice periods</li>
                            <li>â€¢ Maintenance terms</li>
                        </ul>
                    </div>

                    <div class="space-y-3">
                        <div class="text-3xl text-blue-600 mb-2">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <h4 class="font-semibold">Tips</h4>
                        <ul class="text-gray-600 space-y-2">
                            <li>â€¢ Check utility costs</li>
                            <li>â€¢ Verify appliances</li>
                            <li>â€¢ Document conditions</li>
                            <li>â€¢ Read contract carefully</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Rental Calculator -->
            <div class="bg-white rounded-xl shadow-lg p-6 content-section">
                <h3 class="text-xl font-semibold mb-6">Rental Cost Calculator</h3>
                <div class="space-y-6">
                    <div class="relative">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Monthly Rent (â‚¬)</label>
                        <div class="relative">
                            <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500">â‚¬</span>
                            <input type="number" id="monthly-rent" 
                                   class="w-full pl-8 p-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
                                   placeholder="e.g. 800">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Security Deposit</label>
                        <select id="deposit-months" 
                                class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white">
                            <option value="1">1 month rent</option>
                            <option value="2">2 months rent</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Agency Fee?</label>
                        <select id="agency-fee" 
                                class="w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white">
                            <option value="0">No agency fee</option>
                            <option value="1">Yes (1 month rent)</option>
                        </select>
                    </div>

                    <div class="flex items-center space-x-3">
                        <input type="checkbox" id="include-utilities" 
                               class="w-4 h-4 text-blue-600 rounded focus:ring-blue-500">
                        <label class="text-sm font-medium text-gray-700">Include utility estimates</label>
                    </div>
                    
                    <button onclick="calculateTotalCost()"
                            class="w-full py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg 
                                   hover:from-blue-700 hover:to-purple-700 transition-all duration-300
                                   flex items-center justify-center space-x-2">
                        <i class="fas fa-calculator"></i>
                        <span>Calculate Total</span>
                    </button>
                    
                    <!-- Results Area with Initial Message -->
                    <div id="cost-result" class="p-4 bg-gray-50 rounded-lg text-center text-gray-600">
                        Enter the monthly rent and options above to calculate costs
                    </div>
                </div>
            </div>

            <!-- Useful Tools -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white rounded-xl shadow-lg p-6 content-section">
                    <h3 class="text-xl font-semibold mb-4">Neighborhood Guide</h3>
                    <div class="space-y-4">
                        <div class="border-b pb-4">
                            <h4 class="font-semibold mb-2">Ciutat Vella (Old Town)</h4>
                            <p class="text-gray-600 mb-2">Historic center, tourist-friendly, vibrant nightlife</p>
                            <div class="flex items-center text-sm text-gray-500">
                                <span class="text-blue-600">â‚¬â‚¬â‚¬</span>
                                <span class="text-gray-500">Historic</span>
                                <span class="text-gray-500">Central</span>
                            </div>
                        </div>
                        <div class="border-b pb-4">
                            <h4 class="font-semibold mb-2">Russafa</h4>
                            <p class="text-gray-600 mb-2">Trendy area, great restaurants, multicultural</p>
                            <div class="flex items-center text-sm text-gray-500">
                                <span class="text-blue-600">â‚¬â‚¬</span>
                                <span class="text-gray-500">Hip</span>
                                <span class="text-gray-500">Foodie</span>
                            </div>
                        </div>
                        <div class="border-b pb-4">
                            <h4 class="font-semibold mb-2">El Cabanyal</h4>
                            <p class="text-gray-600 mb-2">Beach area, traditional architecture, up-and-coming</p>
                            <div class="flex items-center text-sm text-gray-500">
                                <span class="text-blue-600">â‚¬â‚¬</span>
                                <span class="text-gray-500">Beach</span>
                                <span class="text-gray-500">Local</span>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold mb-2">Benimaclet</h4>
                            <p class="text-gray-600 mb-2">Student area, village feel, affordable</p>
                            <div class="flex items-center text-sm text-gray-500">
                                <span class="text-blue-600">â‚¬</span>
                                <span class="text-gray-500">Young</span>
                                <span class="text-gray-500">Lively</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Timeline Section -->
    <section id="timeline" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-2">Our Journey to Spain</h2>
            <p class="text-xl text-center text-gray-600 mb-16">March 2025 â€“ July 2026</p>
            
            <div class="timeline-container relative">
                <!-- March-May 2025 -->
                <div class="timeline-item group" data-phase="prep">
                    <div class="timeline-content bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow content-section">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-4">ðŸ“š</span>
                            <h3 class="text-2xl font-bold">Marchâ€“May 2025: Prepping & Research</h3>
                        </div>
                        <ul class="space-y-3 text-gray-600">
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Finalize decision to move to Spain
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Research cities and neighborhoods
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Begin budgeting and savings plan
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Review visa options
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Research international schools
                            </li>
                        </ul>
                        <div class="mt-4 text-sm text-gray-500">Current Phase</div>
                        <div class="phase-indicator current-phase">Current</div>
                    </div>
                </div>

                <!-- June-August 2025 -->
                <div class="timeline-item group" data-phase="legal">
                    <div class="timeline-content bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow content-section">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-4">ðŸ›‚</span>
                            <h3 class="text-2xl font-bold">Juneâ€“August 2025: Legal & Logistics</h3>
                        </div>
                        <ul class="space-y-3 text-gray-600">
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Start visa paperwork
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Make consulate appointments
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Renew passports
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Get background checks
                            </li>
                        </ul>
                        <div class="mt-4 text-sm text-gray-500">Upcoming</div>
                        <div class="phase-indicator upcoming-phase">Upcoming</div>
                    </div>
                </div>

                <!-- September-November 2025 -->
                <div class="timeline-item group" data-phase="docs">
                    <div class="timeline-content bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow content-section">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-4">ðŸ“¦</span>
                            <h3 class="text-2xl font-bold">Septemberâ€“November 2025: Documents & Downsizing</h3>
                        </div>
                        <ul class="space-y-3 text-gray-600">
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Translate documents
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Begin decluttering
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                List property
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Research shipping options
                            </li>
                        </ul>
                        <div class="mt-4 text-sm text-gray-500">Upcoming</div>
                        <div class="phase-indicator upcoming-phase">Upcoming</div>
                    </div>
                </div>

                <!-- December 2025-February 2026 -->
                <div class="timeline-item group" data-phase="health">
                    <div class="timeline-content bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow content-section">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-4">ðŸŽ’</span>
                            <h3 class="text-2xl font-bold">December 2025â€“February 2026: Health & Housing</h3>
                        </div>
                        <ul class="space-y-3 text-gray-600">
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Medical checkups
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Collect medical records
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Secure housing
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Submit visa application
                            </li>
                        </ul>
                        <div class="mt-4 text-sm text-gray-500">Upcoming</div>
                        <div class="phase-indicator upcoming-phase">Upcoming</div>
                    </div>
                </div>

                <!-- March-May 2026 -->
                <div class="timeline-item group" data-phase="school">
                    <div class="timeline-content bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow content-section">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-4">ðŸ“˜</span>
                            <h3 class="text-2xl font-bold">Marchâ€“May 2026: Schooling & Systems</h3>
                        </div>
                        <ul class="space-y-3 text-gray-600">
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Confirm school enrollment
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Complete visa paperwork
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Notify U.S. institutions
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Practice Spanish
                            </li>
                        </ul>
                        <div class="mt-4 text-sm text-gray-500">Upcoming</div>
                        <div class="phase-indicator upcoming-phase">Upcoming</div>
                    </div>
                </div>

                <!-- June 2026 -->
                <div class="timeline-item group" data-phase="final">
                    <div class="timeline-content bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow content-section">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-4">ðŸ“…</span>
                            <h3 class="text-2xl font-bold">June 2026: Final Prep</h3>
                        </div>
                        <ul class="space-y-3 text-gray-600">
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Sell car and finish packing
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Cancel subscriptions
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Confirm flight details
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Gather final documents
                            </li>
                        </ul>
                        <div class="mt-4 text-sm text-gray-500">Upcoming</div>
                        <div class="phase-indicator upcoming-phase">Upcoming</div>
                    </div>
                </div>

                <!-- July 2026 -->
                <div class="timeline-item group" data-phase="move">
                    <div class="timeline-content bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow content-section">
                        <div class="flex items-center mb-4">
                            <span class="text-3xl mr-4">âœˆï¸</span>
                            <h3 class="text-2xl font-bold">July 2026: Move to Spain!</h3>
                        </div>
                        <ul class="space-y-3 text-gray-600">
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Fly to Valencia!
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Register with town hall
                            </li>
                            <li class="flex items-center task">
                                <span class="w-6 h-6 flex items-center justify-center border-2 border-blue-500 rounded-full mr-3 checkbox">
                                    <i class="fas fa-check text-blue-500 opacity-0"></i>
                                </span>
                                Begin the adventure! ðŸ‡ªðŸ‡¸
                            </li>
                        </ul>
                        <div class="mt-4 text-sm text-gray-500">Final Destination</div>
                        <div class="phase-indicator completed-phase">Final</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Timeline animations
        function initTimelineAnimations() {
            gsap.registerPlugin(ScrollTrigger);
            
            // Animate timeline items on scroll
            const timelineItems = document.querySelectorAll('.timeline-item');
            
            timelineItems.forEach((item, index) => {
                const content = item.querySelector('.timeline-content');
                const direction = index % 2 === 0 ? -1 : 1;
                
                // Set initial state
                gsap.set(item, { opacity: 0, x: 50 * direction });
                
                // Create scroll-triggered animation
                gsap.to(item, {
                    opacity: 1,
                    x: 0,
                    duration: 1,
                    scrollTrigger: {
                        trigger: item,
                        start: "top 80%",
                        end: "top 60%",
                        toggleActions: "play none none reverse",
                        scrub: 1
                    }
                });
                
                // Animate the dot
                gsap.from(item.querySelector('::before'), {
                    scale: 0,
                    duration: 0.5,
                    scrollTrigger: {
                        trigger: item,
                        start: "top 75%",
                        toggleActions: "play none none reverse"
                    }
                });
            });

            // Task completion animations
            const tasks = document.querySelectorAll('.task');
            tasks.forEach(task => {
                task.addEventListener('click', () => {
                    const wasCompleted = task.classList.contains('completed');
                    task.classList.toggle('completed');
                    
                    const checkmark = task.querySelector('.fa-check');
                    const checkbox = task.querySelector('.checkbox');
                    
                    if (!wasCompleted) {
                        // Animate when completing
                        gsap.to(checkmark, {
                            opacity: 1,
                            scale: 1,
                            duration: 0.2,
                            ease: "back.out(1.7)"
                        });
                        
                        gsap.to(checkbox, {
                            backgroundColor: '#2563EB',
                            borderColor: '#2563EB',
                            scale: 1.1,
                            duration: 0.3
                        });
                        
                        gsap.to(task, {
                            color: '#6B7280',
                            duration: 0.3
                        });
                    } else {
                        // Animate when uncompleting
                        gsap.to(checkmark, {
                            opacity: 0,
                            scale: 0.8,
                            duration: 0.2
                        });
                        
                        gsap.to(checkbox, {
                            backgroundColor: 'transparent',
                            borderColor: '#3B82F6',
                            scale: 1,
                            duration: 0.3
                        });
                        
                        gsap.to(task, {
                            color: '#374151',
                            duration: 0.3
                        });
                    }
                });
            });
        }

        // Initialize animations when document is loaded
        document.addEventListener('DOMContentLoaded', initTimelineAnimations);
    </script>

    <!-- Weather Section -->
    <section id="weather" class="py-12 bg-gradient-to-br from-blue-50 to-purple-50">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-2">Valencia Weather</h2>
            <p class="text-xl text-center text-gray-600 mb-8">Real-time weather updates</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Weather Widget -->
                <div class="bg-white rounded-xl shadow-lg p-8 transform hover:scale-105 transition-transform duration-300">
                    <div id="weather-content" class="flex justify-center items-center min-h-[200px]">
                        <div class="animate-pulse flex space-x-4 items-center">
                            <div class="rounded-full bg-gray-200 h-16 w-16"></div>
                            <div class="space-y-3">
                                <div class="h-4 bg-gray-200 rounded w-24"></div>
                                <div class="h-4 bg-gray-200 rounded w-32"></div>
                                <div class="h-4 bg-gray-200 rounded w-28"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Clothing Recommendations -->
                <div class="bg-white rounded-xl shadow-lg p-8 transform hover:scale-105 transition-transform duration-300">
                    <div id="clothing-content" class="min-h-[200px]">
                        <div class="animate-pulse flex flex-col space-y-4">
                            <div class="space-y-3">
                                <div class="h-6 bg-gray-200 rounded w-48"></div>
                                <div class="h-4 bg-gray-200 rounded w-64"></div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="h-24 bg-gray-200 rounded"></div>
                                <div class="h-24 bg-gray-200 rounded"></div>
                                <div class="h-24 bg-gray-200 rounded"></div>
                                <div class="h-24 bg-gray-200 rounded"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Schools Section -->
    <section id="schools" class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-2">Valencia Schools Guide</h2>
            <p class="text-xl text-center text-gray-600 mb-16">Finding the perfect educational fit</p>

            <!-- Schools Map -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-12 content-section">
                <h4 class="text-2xl font-semibold mb-6">Schools Map</h4>
                <div id="schools-map" class="h-[600px] rounded-lg"></div>
            </div>

            <!-- International Schools -->
            <div class="mb-20">
                <h3 class="text-3xl font-semibold mb-8">International Schools</h3>
                
                <!-- School cards will be generated dynamically -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12" id="international-schools"></div>
            </div>

            <div class="mb-20">
                <h3 class="text-3xl font-semibold mb-8">Public Schools</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="public-schools"></div>
            </div>

            <!-- Application Tracking Form -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-12 content-section">
                <h4 class="text-2xl font-semibold mb-6">School Application Tracker</h4>
                <form id="school-application-form" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">School Name</label>
                            <input type="text" name="school-name" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Application Status</label>
                            <select name="status" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                                <option>Planning to Apply</option>
                                <option>Application in Progress</option>
                                <option>Application Submitted</option>
                                <option>Accepted</option>
                                <option>Rejected</option>
                                <option>Waitlisted</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Application Deadline</label>
                            <input type="date" name="deadline" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Priority Level</label>
                            <select name="priority" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                                <option>High</option>
                                <option>Medium</option>
                                <option>Low</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                        <textarea name="notes" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" rows="3"></textarea>
                    </div>
                    <button type="submit" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                        Add to Tracker
                    </button>
                </form>
            </div>

            <!-- Applications Table -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden content-section">
                <h4 class="text-2xl font-semibold mb-6">Current Applications</h4>
                <table class="min-w-full">
                    <thead>
                        <tr class="bg-gray-50">
                            <th class="px-6 py-3 text-left text-gray-500 font-semibold">School</th>
                            <th class="px-6 py-3 text-left text-gray-500 font-semibold">Status</th>
                            <th class="px-6 py-3 text-left text-gray-500 font-semibold">Deadline</th>
                            <th class="px-6 py-3 text-left text-gray-500 font-semibold">Priority</th>
                            <th class="px-6 py-3 text-left text-gray-500 font-semibold">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="applications-table-body">
                        <!-- JavaScript will populate this -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <script src="./js/schools.js"></script>

    <!-- Budget Section -->
    <section id="budget" class="py-20 bg-gray-50 protected-feature">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-2">Budget Tracker</h2>
            <p class="text-xl text-center text-gray-600 mb-16">Keep track of your expenses in Valencia</p>

            <!-- Budget Summary -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                <div class="bg-white rounded-xl shadow-lg p-6 content-section">
                    <div class="flex justify-between items-center mb-4">
                        <h4 class="text-xl font-semibold">Total Budget</h4>
                        <button onclick="setTotalBudget()" class="text-blue-500 hover:text-blue-700">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                    <p id="total-budget" class="text-3xl font-bold text-green-500">â‚¬0.00</p>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 content-section">
                    <h4 class="text-xl font-semibold mb-4">Total Expenses</h4>
                    <p id="total-expenses" class="text-3xl font-bold text-red-500">â‚¬0.00</p>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 content-section">
                    <h4 class="text-xl font-semibold mb-4">Remaining Budget</h4>
                    <p id="remaining-budget" class="text-3xl font-bold text-blue-500">â‚¬0.00</p>
                </div>
            </div>

            <!-- Budget Progress -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-12 content-section">
                <h4 class="text-xl font-semibold mb-4">Budget Progress</h4>
                <div class="h-4 bg-gray-200 rounded-full overflow-hidden">
                    <div id="budget-progress" class="h-full bg-green-500 transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>

            <!-- Charts -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                <div class="bg-white rounded-xl shadow-lg p-6 content-section">
                    <h4 class="text-xl font-semibold mb-4">Spending by Category</h4>
                    <div class="h-80">
                        <canvas id="spending-chart"></canvas>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg p-6 content-section">
                    <h4 class="text-xl font-semibold mb-4">Monthly Spending Trend</h4>
                    <div class="h-80">
                        <canvas id="monthly-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Category Spending -->
            <div class="mb-12">
                <h3 class="text-2xl font-semibold mb-6">Category Spending</h3>
                <div id="category-spending" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 content-section">
                    <!-- Category cards will be generated dynamically -->
                </div>
            </div>

            <!-- Add Expense Form -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-12 content-section">
                <h4 class="text-2xl font-semibold mb-6">Add New Expense</h4>
                <form id="expense-form" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                            <input type="date" name="date" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                            <input type="text" name="description" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Category</label>
                            <select name="category" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                                <option value="housing">Housing</option>
                                <option value="utilities">Utilities</option>
                                <option value="groceries">Groceries</option>
                                <option value="transportation">Transportation</option>
                                <option value="healthcare">Healthcare</option>
                                <option value="entertainment">Entertainment</option>
                                <option value="education">Education</option>
                                <option value="shopping">Shopping</option>
                                <option value="savings">Savings</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Amount (â‚¬)</label>
                            <input type="number" name="amount" step="0.01" min="0" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                        <textarea name="notes" rows="3" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"></textarea>
                    </div>
                    <button type="submit" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                        Add Expense
                    </button>
                </form>
            </div>

            <!-- Expenses List -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden content-section">
                <div class="p-6 flex justify-between items-center">
                    <h4 class="text-2xl font-semibold">Recent Expenses</h4>
                    <div class="space-x-4">
                        <button onclick="exportBudgetData()" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                            <i class="fas fa-download mr-2"></i>Export
                        </button>
                        <label class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors cursor-pointer">
                            <i class="fas fa-upload mr-2"></i>Import
                            <input type="file" id="import-budget" accept=".json" class="hidden">
                        </label>
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-gray-500 font-semibold">Date</th>
                                <th class="px-6 py-3 text-left text-gray-500 font-semibold">Description</th>
                                <th class="px-6 py-3 text-left text-gray-500 font-semibold">Category</th>
                                <th class="px-6 py-3 text-left text-gray-500 font-semibold">Amount</th>
                                <th class="px-6 py-3 text-left text-gray-500 font-semibold">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="expenses-tbody">
                            <!-- Expenses will be added dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Currency Exchange Section -->
    <section id="currency" class="py-20 bg-gradient-to-br from-blue-50 to-purple-50">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-2">Currency Exchange</h2>
            <p class="text-xl text-center text-gray-600 mb-16">Quick USD to EUR conversion</p>

            <div class="bg-white rounded-xl shadow-lg p-8 max-w-2xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-end mb-8">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Amount</label>
                        <input type="number" id="amount" min="0" step="0.01" 
                               class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" 
                               value="1">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">From</label>
                        <select id="fromCurrency" 
                                class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="USD">USD - US Dollar</option>
                            <option value="EUR">EUR - Euro</option>
                            <option value="GBP">GBP - British Pound</option>
                            <option value="JPY">JPY - Japanese Yen</option>
                            <option value="AUD">AUD - Australian Dollar</option>
                            <option value="CAD">CAD - Canadian Dollar</option>
                            <option value="CHF">CHF - Swiss Franc</option>
                            <option value="CNY">CNY - Chinese Yuan</option>
                        </select>
                    </div>
                    <div class="relative">
                        <label class="block text-sm font-medium text-gray-700 mb-2">To</label>
                        <select id="toCurrency" 
                                class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                            <option value="EUR">EUR - Euro</option>
                            <option value="USD">USD - US Dollar</option>
                            <option value="GBP">GBP - British Pound</option>
                            <option value="JPY">JPY - Japanese Yen</option>
                            <option value="AUD">AUD - Australian Dollar</option>
                            <option value="CAD">CAD - Canadian Dollar</option>
                            <option value="CHF">CHF - Swiss Franc</option>
                            <option value="CNY">CNY - Chinese Yuan</option>
                        </select>
                        <button onclick="swapCurrencies()" 
                                class="absolute -left-4 top-8 transform -translate-x-full bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                            <i class="fas fa-exchange-alt"></i>
                        </button>
                    </div>
                </div>
                
                <div id="result" class="text-center py-6 border-t border-gray-200">
                    <!-- Exchange rate result will be displayed here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Family Journal Section -->
    <section id="journal" class="py-20 bg-gray-50 protected-feature">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-2">Family Journal</h2>
            <p class="text-xl text-center text-gray-600 mb-16">Capture our family adventures in Valencia</p>

            <!-- Add Entry Form -->
            <div class="bg-white rounded-xl shadow-lg p-8 mb-12 content-section">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-semibold">Add New Entry</h3>
                    <div class="space-x-4">
                        <button onclick="exportJournal()" class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                            <i class="fas fa-download mr-2"></i>Export Journal
                        </button>
                        <label class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors cursor-pointer">
                            <i class="fas fa-upload mr-2"></i>Import Journal
                            <input type="file" id="import-journal" accept=".json" class="hidden">
                        </label>
                    </div>
                </div>
                <form id="journal-form" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Date</label>
                            <input type="date" name="date" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                            <input type="text" name="title" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Location Name</label>
                            <input type="text" name="location-name" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Location (Click on map)</label>
                            <input type="text" name="location" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required readonly>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Weather</label>
                            <select name="weather" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                                <option value="Sunny">Sunny</option>
                                <option value="Cloudy">Cloudy</option>
                                <option value="Rainy">Rainy</option>
                                <option value="Stormy">Stormy</option>
                                <option value="Snowy">Snowy</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Mood</label>
                            <select name="mood" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required>
                                <option value="Happy">Happy</option>
                                <option value="Excited">Excited</option>
                                <option value="Relaxed">Relaxed</option>
                                <option value="Tired">Tired</option>
                                <option value="Sad">Sad</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Photos</label>
                        <input type="file" name="photos" multiple accept="image/*" class="w-full text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                        <textarea name="notes" rows="4" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" required></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Tags (comma-separated)</label>
                        <input type="text" name="tags" class="w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="family, sightseeing, food">
                    </div>
                    <button type="submit" class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                        Add Entry
                    </button>
                </form>
            </div>

            <!-- Map and Entries Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Map -->
                <div class="bg-white rounded-xl shadow-lg p-6 content-section">
                    <h3 class="text-2xl font-semibold mb-4">Our Adventures Map</h3>
                    <div id="journal-map" class="h-[500px] rounded-lg"></div>
                </div>

                <!-- Journal Entries -->
                <div class="space-y-6">
                    <h3 class="text-2xl font-semibold">Recent Entries</h3>
                    <div id="journal-entries" class="space-y-6 max-h-[500px] overflow-y-auto pr-4">
                        <!-- Entries will be added dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Family Adventure Section -->
    <section id="about" class="py-20 bg-gradient-to-b from-blue-50 to-purple-50">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-16">Our Valencia Adventure</h2>
            
            <!-- Interactive Timeline -->
            <div class="relative">
                <!-- Progress Line -->
                <div class="absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gradient-to-b from-blue-400 to-purple-400"></div>
                
                <!-- Timeline Items -->
                <div class="space-y-24">
                    <!-- Decision Phase -->
                    <div class="relative flex items-center group" data-aos="fade-up">
                        <div class="w-1/2 pr-8 text-right group-hover:transform group-hover:-translate-x-2 transition-transform">
                            <h3 class="text-2xl font-semibold mb-2 text-blue-600">The Big Decision</h3>
                            <p class="text-gray-600 mb-2">From dreaming about Spain to making it our reality</p>
                        </div>
                        <div class="absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-white shadow-lg
                                    border-4 border-blue-400 group-hover:scale-110 transition-transform">
                            <i class="fas fa-lightbulb text-blue-400 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"></i>
                        </div>
                        <div class="w-1/2 pl-8 group-hover:transform group-hover:translate-x-2 transition-transform">
                            <div class="bg-white rounded-xl shadow-lg p-4 transform transition-transform hover:scale-105">
                                <img src="https://images.unsplash.com/photo-1516738901171-8eb4fc13bd20?auto=format&fit=crop&w=500" 
                                     alt="Dream of Spain" class="w-full h-48 object-cover rounded-lg mb-4">
                                <p class="text-gray-600">After months of research and planning, we decided to embark on this incredible journey</p>
                            </div>
                        </div>
                    </div>

                    <!-- Preparation Phase -->
                    <div class="relative flex items-center group" data-aos="fade-up" data-aos-delay="100">
                        <div class="w-1/2 pr-8 text-right">
                            <div class="bg-white rounded-xl shadow-lg p-4 transform transition-transform hover:scale-105">
                                <img src="https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&w=500" 
                                     alt="Preparation" class="w-full h-48 object-cover rounded-lg mb-4">
                                <p class="text-gray-600">Getting all our documents ready, learning Spanish, and preparing for the move</p>
                            </div>
                        </div>
                        <div class="absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-white shadow-lg
                                    border-4 border-purple-400 group-hover:scale-110 transition-transform">
                            <i class="fas fa-tasks text-purple-400 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"></i>
                        </div>
                        <div class="w-1/2 pl-8 group-hover:transform group-hover:translate-x-2 transition-transform">
                            <h3 class="text-2xl font-semibold mb-2 text-purple-600">Preparation</h3>
                            <p class="text-gray-600">Making it happen, one step at a time</p>
                        </div>
                    </div>

                    <!-- The Move -->
                    <div class="relative flex items-center group" data-aos="fade-up" data-aos-delay="200">
                        <div class="w-1/2 pr-8 text-right group-hover:transform group-hover:-translate-x-2 transition-transform">
                            <h3 class="text-2xl font-semibold mb-2 text-blue-600">The Big Move</h3>
                            <p class="text-gray-600 mb-2">Crossing the Atlantic to start our new life</p>
                        </div>
                        <div class="absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-white shadow-lg
                                    border-4 border-blue-400 group-hover:scale-110 transition-transform">
                            <i class="fas fa-plane-departure text-blue-400 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"></i>
                        </div>
                        <div class="w-1/2 pl-8">
                            <div class="bg-white rounded-xl shadow-lg p-4 transform transition-transform hover:scale-105">
                                <img src="https://images.unsplash.com/photo-1436491865332-7a61a109cc05?auto=format&fit=crop&w=500" 
                                     alt="Moving Day" class="w-full h-48 object-cover rounded-lg mb-4">
                                <p class="text-gray-600">The excitement and butterflies as we board our flight to Spain</p>
                            </div>
                        </div>
                    </div>

                    <!-- New Life -->
                    <div class="relative flex items-center group" data-aos="fade-up" data-aos-delay="300">
                        <div class="w-1/2 pr-8 text-right">
                            <div class="bg-white rounded-xl shadow-lg p-4 transform transition-transform hover:scale-105">
                                <img src="https://images.unsplash.com/photo-1551632436-cbf8dd35adfa?auto=format&fit=crop&w=500" 
                                     alt="Valencia Life" class="w-full h-48 object-cover rounded-lg mb-4">
                                <p class="text-gray-600">Exploring our new home, making friends, and creating memories</p>
                            </div>
                        </div>
                        <div class="absolute left-1/2 transform -translate-x-1/2 w-12 h-12 rounded-full bg-white shadow-lg
                                    border-4 border-purple-400 group-hover:scale-110 transition-transform">
                            <i class="fas fa-heart text-purple-400 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"></i>
                        </div>
                        <div class="w-1/2 pl-8 group-hover:transform group-hover:translate-x-2 transition-transform">
                            <h3 class="text-2xl font-semibold mb-2 text-purple-600">New Life in Valencia</h3>
                            <p class="text-gray-600">Living our dream in the heart of Spain</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Family Stats -->
            <div class="mt-20 grid grid-cols-2 md:grid-cols-4 gap-8">
                <div class="bg-white rounded-xl shadow-lg p-6 text-center transform hover:scale-105 transition-transform">
                    <div class="text-3xl text-blue-600 mb-2">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="text-4xl font-bold text-gray-800 mb-1 counter" data-target="365">0</div>
                    <div class="text-gray-600">Days Until Move</div>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 text-center transform hover:scale-105 transition-transform">
                    <div class="text-3xl text-purple-600 mb-2">
                        <i class="fas fa-language"></i>
                    </div>
                    <div class="text-4xl font-bold text-gray-800 mb-1 counter" data-target="2">0</div>
                    <div class="text-gray-600">Languages Learning</div>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 text-center transform hover:scale-105 transition-transform">
                    <div class="text-3xl text-blue-600 mb-2">
                        <i class="fas fa-suitcase"></i>
                    </div>
                    <div class="text-4xl font-bold text-gray-800 mb-1 counter" data-target="8">0</div>
                    <div class="text-gray-600">Suitcases Packed</div>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6 text-center transform hover:scale-105 transition-transform">
                    <div class="text-3xl text-purple-600 mb-2">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="text-4xl font-bold text-gray-800 mb-1 counter" data-target="100">0</div>
                    <div class="text-gray-600">Excitement Level</div>
                </div>
            </div>
        </div>

        <!-- Animation Script -->
        <script>
            // Counter animation
            const counters = document.querySelectorAll('.counter');
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-target'));
                const duration = 2000; // 2 seconds
                const step = target / (duration / 16); // 60fps

                function updateCount() {
                    const current = parseInt(counter.innerText);
                    if (current < target) {
                        current += step;
                        if (current >= target) {
                            current = target;
                        }
                        counter.innerText = Math.round(current);
                        setTimeout(updateCount, 16);
                    }
                }

                // Start counter when element is in view
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            updateCount();
                            observer.unobserve(entry.target);
                        }
                    });
                });

                observer.observe(counter);
            });
        </script>
    </section>
</div>
</body>
</html>

<script>
    // Loader functionality
    document.addEventListener('DOMContentLoaded', function() {
        const loader = document.getElementById('loader');
        const mainContent = document.getElementById('main-content');
        const progress = document.getElementById('loader-progress');
        
        // Simulate loading progress
        let width = 0;
        const interval = setInterval(() => {
            width += Math.random() * 15;
            if (width > 100) {
                width = 100;
                clearInterval(interval);
                setTimeout(() => {
                    loader.style.opacity = '0';
                    mainContent.style.opacity = '1';
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 500);
                }, 500);
            }
            progress.style.width = width + '%';
        }, 200);
    });
</script>
